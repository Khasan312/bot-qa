from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Update
from telegram.ext import Application, CallbackQueryHandler, CommandHandler

# Вопросы и ответы с короткими ключами для callback_data
QA = {
    "q1": "Программа «Специалист цифрового будущего» — это направление бизнес-школы SRC. Помогает сотрудникам осваивать искусственный интеллект для решения профессиональных задач, развивать навыки работы с ИИ и успешно справляться с вызовами цифровой экономики.",
    "q2": "Алгоритмы поставок: как ИИ меняет логистику\n1.Кадры и коды: как ИИ меняет HR\n2.Маркетинг на основе данных: ИИ в действии\n3.Финансовый интеллект: как ИИ меняет рынок\n4.Ассистент будущего: искусственный интеллект в повседневных задачах",
    "q3": "Все наши курсы проходят онлайн на удобной платформе с доступом к лекциям, практическим заданиям и поддержке преподавателей.",
    "q4": "Длительность 1 курса - 28 часов",
    "q5": "Нет, наши курсы подойдут как для новичков, так и для специалистов, которые хотят углубить свои знания.",
    "q6": "Стоимость зависит от выбранного курса. У нас также есть бесплатные вводные уроки, чтобы вы могли оценить формат.",
    "q7": "Да, у нас есть скидки для ранней регистрации и специальные предложения для команд.",
    "q8": "Вы получите доступ ко всем материалам курса на 6 месяцев после его завершения, чтобы изучить их в удобное время.",
    "q9": "С помощью ИИ вы сможете автоматизировать рутинные задачи, ускорить анализ данных, генерировать контент и находить новые идеи для вашего бизнеса или проектов.",
    "q11": "Да, в течение первых 7 дней после оплаты вы можете запросить возврат средств, если курс вам не подошел.",
}

# Маппинг вопросов на короткие ключи
QUESTIONS = {
    "Что такое программа специалистов цифрового будущего": "q1",
    "Какие курсы у нас есть": "q2",
    "Где проходят занятия?": "q3",
    "Сколько длится обучение?": "q4",
    "Нужно ли иметь опыт работы с ИИ перед началом обучения?": "q5",
    "Сколько стоит обучение?": "q6",
    "Можно ли получить скидку?": "q7",
    "Что делать, если я не успеваю проходить курс?": "q8",
    "Как я могу использовать ИИ в своей работе?": "q9",
    "Можно ли вернуть деньги за курс?": "q11",
}

# Команда /start
async def start(update: Update, context):
    # Создаем кнопки с короткими callback_data
    keyboard = [[InlineKeyboardButton(q, callback_data=key)] for q, key in QUESTIONS.items()]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await update.message.reply_text("Выберите интересующий вас вопрос:", reply_markup=reply_markup)

# Обработчик нажатий кнопок
async def button_handler(update: Update, context):
    query = update.callback_query
    await query.answer()
    # Получаем ответ из словаря QA по callback_data
    answer = QA.get(query.data, "Извините, ответ не найден.")
    # Отправляем ответ в новом сообщении
    await query.message.reply_text(text=answer)

def main():
    # Вставьте токен вашего бота
    TOKEN = "7814891168:AAH-EffMekQSKQMYx78Ar6Xm-KoepohFmhU"
    application = Application.builder().token(TOKEN).build()

    # Регистрация обработчиков
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CallbackQueryHandler(button_handler))

    # Запуск бота
    application.run_polling()

if __name__ == "__main__":
    main()
